<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QuantiaDx - Requisition Form</title>
    <link
      rel="stylesheet"
      href="/QuantiaDx/QuantiaDx.css"
    />
  </head>
  <body>
    <main>
      <h1>QuantiaDx - Test Requisition Form</h1>
      <form action="/submit-quantiadx" method="post">
        <!-- Static Section -->
        <section id="patient-info">
          <fieldset>
            <legend>Patient Demographics</legend>
            <label for="firstname">First Name:</label>
            <input type="text" id="firstname" name="firstname" value="<%= ehrData.patient?.firstname || '' %>" required />

            <label for="middlename">Middle Name:</label>
            <input type="text" id="middlename" name="middlename" value="<%= ehrData.patient?.middlename || '' %>" />

            <label for="lastname">Last Name:</label>
            <input type="text" id="lastname" name="lastname" value="<%= ehrData.patient?.lastname || '' %>" required />

            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
              <option value="">--Select--</option>
              <option value="female" <%= ehrData.patient?.gender === 'female' ? 'selected' : '' %>>Female</option>
              <option value="male" <%= ehrData.patient?.gender === 'male' ? 'selected' : '' %>>Male</option>
              <option value="other" <%= ehrData.patient?.gender === 'other' ? 'selected' : '' %>>Other</option>
              <option value="prefer-not-say" <%= ehrData.patient?.gender === 'prefer-not-say' ? 'selected' : '' %>>Prefer not to say</option>
            </select>

            <label for="dob">Date of Birth:</label>
            <input type="date" id="dob" name="dob" value="<%= ehrData.patient?.dob || '' %>" required />

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" value="<%= ehrData.patient?.email || '' %>" />

            <label for="phone">Phone:</label>
            <input type="tel" id="phone" name="phone" value="<%= ehrData.patient?.phone || '' %>" />
          </fieldset>

          <fieldset>
            <legend>Insurance Information</legend>
            <label for="insurance-provider">Insurance Provider:</label>
            <input
              type="text"
              id="insurance-provider"
              name="insurance-provider"
              value="<%= ehrData.insurance?.provider || '' %>"
            />

            <label for="insurance-id">Insurance ID:</label>
            <input type="text" id="insurance-id" name="insurance-id" value="<%= ehrData.insurance?.id || '' %>" />
          </fieldset>

          <fieldset>
            <legend>Provider Information</legend>
            <label for="provider-name">Provider Name:</label>
            <input
              type="text"
              id="provider-name"
              name="provider-name"
              value="<%= ehrData.provider?.name || '' %>"
              required
            />

            <label for="npi-number">NPI Number:</label>
            <input type="text" id="npi-number" name="npi-number" value="<%= ehrData.provider?.npi || '' %>" />

            <label for="provider-address">Address:</label>
            <textarea
              id="provider-address"
              name="provider-address"
              rows="3"
            ><%= ehrData.provider?.address || '' %></textarea>
          </fieldset>
        </section>

        <!-- Dynamic Section -->
        <section id="test-panel">
          <fieldset>
            <legend>Test Panel - QuantiaDx</legend>

            <label>
              <input type="checkbox" name="tests" value="brca1-brca2" />
              BRCA1/BRCA2 Genetic Testing
            </label>

            <label>
              <input type="checkbox" name="tests" value="hereditary-cancer" />
              Hereditary Cancer Panel
            </label>

            <label>
              <input type="checkbox" name="tests" value="lynch-syndrome" />
              Lynch Syndrome Screening
            </label>

            <label>
              <input type="checkbox" name="tests" value="oncotype-dx" />
              Oncotype DX
            </label>

            <label>
              <input type="checkbox" name="tests" value="pharmacogenomic" />
              Pharmacogenomic Panel
            </label>
          </fieldset>
        </section>

        <button type="submit">Submit Requisition</button>
      </form>
    </main>
  </body>
</html>